<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>RASPMEDIA LO PETA</title>
		<script type="text/javascript" src="jquery.js"></script>
		<script src="../build/mediaelement-and-player.min.js"></script>
		<script src="http://localhost:3434/socket.io/socket.io.js"></script>
		<link rel="stylesheet" href="../build/mediaelementplayer.min.css" />
		<style>
		.center{
			margin: auto;
			position: absolute;
			top: 0px;
			bottom: 0px;
			left: 0px;
			right: 0px;
			box-shadow: 0 0 8px 2px #000;
		}
		</style>
		<style> html { 
		    background: url(backgroundvideos.jpg) no-repeat center center fixed; 
		    background-size: cover;
		    -webkit-background-size: cover;
		    -moz-background-size: cover;
		    -o-background-size: cover;
	    }
	    </style>
	</head>

	<body> 

		<video width="640" height="360" src=" " type="video/mp4" id="videoplayer" controls="controls" preload="none" class="center"></video>

		<script>
		
			var full_screen = 0;

			var player = new MediaElementPlayer("#videoplayer",{
				startVolume: 0.5
			});

			var socket = io.connect('http://localhost:3434');

			socket.on("connect", function() {
				socket.emit("playerplaying_video");
			})

			socket.on("changesource_video", function (message) {
				player.setSrc(message);
				player.play();
				player.enterFullScreen();
				full_screen = 1;
			});

			socket.on("pausevideo", function() {
				player.pause();
			});

			socket.on("playvideo", function() {
				player.play();
			});

			socket.on("full", function() {
				if (full_screen == 0) {
					full_screen = 1;
					player.enterFullScreen();
				}
				else {
					full_screen = 0;
					player.exitFullScreen();
				}
			});


		</script>

	</body>

</html>